<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–π –ü–æ–∏—Å–∫ 2026 - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä</title>
    <style>
        :root {
            --bg: #ffffff; --text: #202124; --input-bg: #ffffff;
            --kb-bg: #f2f2f2; --key-bg: #ffffff; --key-text: #333333;
            --border: #dfe1e5; --shd: 0 1px 6px rgba(32,33,36,0.28);
            --snow: #5b9dff;
        }
        [data-theme="dark"] {
            --bg: #202124; --text: #e8eaed; --input-bg: #3c4043;
            --kb-bg: #303134; --key-bg: #4a4d51; --key-text: #ffffff;
            --border: #5f6368; --shd: 0 4px 20px rgba(0,0,0,0.5);
            --snow: #ffffff;
        }

        body {
            margin: 0; padding: 0; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; background: var(--bg); color: var(--text);
            font-family: 'Segoe UI', Arial, sans-serif; transition: 0.3s;
        }

        /* –ì–ò–†–õ–Ø–ù–î–ê */
        .garland { position: fixed; top: 0; width: 100%; height: 40px; display: flex; justify-content: space-around; align-items: center; z-index: 1000; background: rgba(0,0,0,0.05); }
        .light { width: 14px; height: 14px; border-radius: 50%; animation: flash 1.5s infinite alternate; }
        .light:nth-child(5n+1) { background: #ff4444; box-shadow: 0 0 15px #ff4444; }
        .light:nth-child(5n+2) { background: #44ff44; box-shadow: 0 0 15px #44ff44; }
        .light:nth-child(5n+3) { background: #4444ff; box-shadow: 0 0 15px #4444ff; }
        .light:nth-child(5n+4) { background: #ffff44; box-shadow: 0 0 15px #ffff44; }
        .light:nth-child(5n+5) { background: #ff44ff; box-shadow: 0 0 15px #ff44ff; }
        @keyframes flash { from { opacity: 0.5; transform: scale(0.9); } to { opacity: 1; transform: scale(1.1); } }

        /* –õ–û–ì–û–¢–ò–ü */
        .logo-row { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; }
        .logo-lupa { width: 50px; height: 50px; fill: #4285f4; }
        .logo-text { font-size: 52px; font-weight: bold; }

        /* –°–¢–†–û–ö–ê –ü–û–ò–°–ö–ê */
        .search-container { width: 90%; max-width: 700px; position: relative; z-index: 2000; }
        .search-bar { 
            display: flex; align-items: center; background: var(--input-bg); 
            border-radius: 35px; border: 1px solid var(--border); padding: 0 25px; height: 65px; box-shadow: var(--shd);
        }
        .bar-input { flex: 1; border: none; outline: none; background: transparent; color: var(--text); font-size: 20px; margin: 0 15px; }
        
        .icon-btn { background: none; border: none; cursor: pointer; fill: #9aa0a6; padding: 12px; display: flex; transition: 0.2s; }
        .icon-btn svg { width: 32px; height: 32px; }
        .mic-active { fill: #ea4335 !important; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* –ò–°–¢–û–†–ò–Ø –ò –ü–û–î–°–ö–ê–ó–ö–ò */
        #suggestions {
            display: none; position: absolute; top: 100%; left: 0; width: 100%;
            background: var(--input-bg); border: 1px solid var(--border); border-top: none;
            border-radius: 0 0 28px 28px; box-shadow: var(--shd); padding: 10px 0; max-height: 300px; overflow-y: auto;
        }
        .sugg-item { padding: 12px 25px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-size: 18px; }
        .sugg-item:hover { background: rgba(0,0,0,0.05); }
        .sugg-item.history { color: #8000ff; } /* –û—Ç–ª–∏—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Ü–≤–µ—Ç–æ–º */

        /* –ö–õ–ê–í–ò–ê–¢–£–†–ê */
        #kb { display: none; background: var(--kb-bg); margin-top: 20px; padding: 15px; border-radius: 20px; flex-direction: column; gap: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .kb-row { display: flex; justify-content: center; gap: 6px; }
        .key { background: var(--key-bg); border: 1px solid rgba(0,0,0,0.1); min-width: 48px; height: 52px; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; font-weight: bold; color: var(--key-text); box-shadow: 0 2px 0 rgba(0,0,0,0.1); user-select: none; }
        .key:active { transform: translateY(1px); }
        .key.wide { min-width: 80px; }
        .key.space { min-width: 200px; }
        .key.find { background: #34a853; color: white; min-width: 100px; }
        .key.del { background: #ea4335; color: white; }

        .snowflake { position: fixed; top: -10%; color: var(--snow); pointer-events: none; z-index: 5000; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        .top-btns { position: fixed; top: 60px; right: 20px; display: flex; gap: 15px; }
        .c-btn { width: 50px; height: 50px; border-radius: 50%; border: none; cursor: pointer; background: var(--input-bg); box-shadow: var(--shd); font-size: 22px; }
    </style>
</head>
<body data-theme="light">

    <div class="garland" id="garland"></div>
    <div class="top-btns">
        <button class="c-btn" onclick="toggleTheme()">üåì</button>
        <button class="c-btn" onclick="toggleSnow()">‚ùÑÔ∏è</button>
    </div>

    <div class="logo-row">
        <svg class="logo-lupa" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <div class="logo-text">
            <span style="color:#4285f4">–º</span><span style="color:#ea4335">–æ</span><span style="color:#fbbc05">–π</span> 
            <span style="color:#4285f4">–ø</span><span style="color:#34a853">–æ</span><span style="color:#ea4335">–∏</span><span style="color:#4285f4">—Å</span><span style="color:#34a853">–∫</span>
        </div>
    </div>

    <div class="search-container">
        <div class="search-bar">
            <input type="text" class="bar-input" id="input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å..." autocomplete="off">
            <button class="icon-btn" onclick="toggleKB()"><svg viewBox="0 0 24 24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM11 8h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></svg></button>
            <button class="icon-btn" id="mic-btn" onclick="startVoice()"><svg viewBox="0 0 24 24"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/><path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/></svg></button>
        </div>
        <div id="suggestions"></div>
        <div id="kb"></div>
    </div>

    <script>
        const input = document.getElementById('input');
        const suggBox = document.getElementById('suggestions');
        const micBtn = document.getElementById('mic-btn');
        const kb = document.getElementById('kb');
        let lang = 'RU', isCaps = false;
        let searchHistory = JSON.parse(localStorage.getItem('my_history') || '[]');

        const layouts = {
            'RU': [["—ë","–π","—Ü","—É","–∫","–µ","–Ω","–≥","—à","—â","–∑","—Ö","—ä"], ["—Ñ","—ã","–≤","–∞","–ø","—Ä","–æ","–ª","–¥","–∂","—ç"], ["—è","—á","—Å","–º","–∏","—Ç","—å","–±","—é"]],
            'EN': [["q","w","e","r","t","y","u","i","o","p"], ["a","s","d","f","g","h","j","k","l"], ["z","x","c","v","b","n","m"]]
        };

        // –ü–û–ò–°–ö –ò –ò–°–¢–û–†–ò–Ø
        function performSearch(q) {
            const query = q || input.value;
            if(!query) return;
            if(!searchHistory.includes(query)) {
                searchHistory.unshift(query);
                localStorage.setItem('my_history', JSON.stringify(searchHistory.slice(0, 5)));
            }
            window.location.href = "https://www.google.com/search?q=" + encodeURIComponent(query);
        }

        input.onfocus = updateSuggestions;
        input.oninput = updateSuggestions;

        function updateSuggestions() {
            const val = input.value.toLowerCase();
            suggBox.innerHTML = '';
            
            // –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
            const histMatches = searchHistory.filter(h => h.toLowerCase().includes(val));
            histMatches.forEach(h => {
                const d = document.createElement('div');
                d.className = 'sugg-item history';
                d.innerHTML = `üïí ${h}`;
                d.onclick = () => performSearch(h);
                suggBox.appendChild(d);
            });

            // –ü–æ—Ç–æ–º –∂–∏–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–ø—Ä–∏–º–µ—Ä)
            const hints = ["–ù–æ–≤—ã–π –≥–æ–¥ 2026", "–ü–æ–≥–æ–¥–∞", "–ù–æ–≤–æ—Å—Ç–∏"].filter(h => h.toLowerCase().includes(val) && !searchHistory.includes(h));
            hints.forEach(h => {
                const d = document.createElement('div');
                d.className = 'sugg-item';
                d.innerHTML = `üîç ${h}`;
                d.onclick = () => performSearch(h);
                suggBox.appendChild(d);
            });

            suggBox.style.display = suggBox.innerHTML ? 'block' : 'none';
        }

        // –ö–õ–ê–í–ò–ê–¢–£–†–ê
        function renderKB() {
            kb.innerHTML = '';
            layouts[lang].forEach((row, i) => {
                const r = document.createElement('div'); r.className = 'kb-row';
                row.forEach(char => {
                    const k = document.createElement('div'); k.className = 'key';
                    k.innerText = isCaps ? char.toUpperCase() : char;
                    k.onclick = () => { input.value += k.innerText; updateSuggestions(); };
                    r.appendChild(k);
                });
                if(i === 0) {
                    const d = document.createElement('div'); d.className = 'key wide del';
                    d.innerText = '‚Üê'; d.onclick = () => { input.value = input.value.slice(0,-1); updateSuggestions(); };
                    r.appendChild(d);
                }
                kb.appendChild(r);
            });
            const last = document.createElement('div'); last.className = 'kb-row';
            const cp = document.createElement('div'); cp.className = 'key wide'; cp.innerText = 'Caps'; 
            cp.onclick = () => { isCaps = !isCaps; renderKB(); };
            
            const lg = document.createElement('div'); lg.className = 'key wide'; lg.innerText = lang; 
            lg.onclick = () => { lang = lang === 'RU' ? 'EN' : 'RU'; renderKB(); };
            
            const sp = document.createElement('div'); sp.className = 'key space'; sp.innerText = ' '; 
            sp.onclick = () => { input.value += ' '; };
            
            const f = document.createElement('div'); f.className = 'key find'; f.innerText = '–ù–∞–π—Ç–∏'; 
            f.onclick = () => performSearch();
            
            last.append(cp, lg, sp, f); kb.appendChild(last);
        }

        function toggleKB() { kb.style.display = kb.style.display === 'flex' ? 'none' : 'flex'; if(!kb.innerHTML) renderKB(); }
        
        function startVoice() {
            const Speech = window.SpeechRecognition || window.webkitSpeechRecognition;
            if(!Speech) return alert("–ì–æ–ª–æ—Å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
            const rec = new Speech();
            rec.onstart = () => micBtn.classList.add('mic-active');
            rec.onend = () => micBtn.classList.remove('mic-active');
            rec.onresult = (e) => { input.value = e.results[0][0].transcript; performSearch(); };
            rec.start();
        }

        function toggleTheme() { document.body.setAttribute('data-theme', document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'); }
        
        let sInt;
        function toggleSnow() {
            if(sInt) { clearInterval(sInt); sInt = null; return; }
            sInt = setInterval(() => {
                const s = document.createElement('div'); s.className = 'snowflake'; s.innerText = '‚ùÑ';
                s.style.left = Math.random() * 100 + 'vw'; s.style.animationDuration = Math.random()*3+2+'s';
                document.body.appendChild(s); setTimeout(() => s.remove(), 4000);
            }, 100);
        }

        const g = document.getElementById('garland');
        for(let i=0; i<30; i++) {
            const l = document.createElement('div'); l.className = 'light';
            l.style.animationDelay = Math.random()*2+'s'; g.appendChild(l);
        }
        document.addEventListener('click', (e) => { if(!e.target.closest('.search-container')) suggBox.style.display = 'none'; });
    </script>
</body>
</html>